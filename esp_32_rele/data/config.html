<html>
  <head>
<script type="text/javascript">
  var esp32time;
  function loadValues(){
      var xh = new XMLHttpRequest();
      xh.onreadystatechange = function(){
        if (xh.readyState == 4){
          if(xh.status == 200) {
            var res = JSON.parse(xh.responseText);
            var t = res.time;
            esp32time = t.hour + ":" + t.minute + ":" + t.second + " " + t.day + "-" + t.month + "-" + t.year
            setValues();
          }
        }
      };
      xh.open("GET", "/api/config", true);
      xh.send(null);
    };
    
  function putValues(){
      var data = {};
      data.year = 2019;
      data.month  = 8;
      var json = JSON.stringify(data);
      var xh = new XMLHttpRequest();
      xh.open("PUT", "/api/config", true);
      xh.setRequestHeader('Content-type','application/json; charset=utf-8');
      xh.onload = function () {
	    var users = JSON.parse(xhr.responseText);
	    if (xh.readyState == 4 && xhr.status == "201") {
		  console.table(users);
	    } else {
		  console.error(users);
	   }
     }
     xh.send(json);
  };
  
  function setValues() {
    document.getElementById("esp32time").innerText=esp32time;
  }
  loadValues();
  var date = new Date();
</script>
  </head>
  <body>
    <div>Time: <span id="esp32time"></span></div> 
  </body>
</html>